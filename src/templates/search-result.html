{% extends "layout.html" %}

{% block body %}

<div class="jumbotron text-center">
    <h3>Welcome to MotoTourMate</h3>
    <p>
        Check out the postings below to find the companion you are looking for :)
    </p>
</div>

{% if tours == [] %}
<div class="alert alert-danger" role="alert">
    No tour has been created yet for your input
</div>
<div class="d-flex justify-content-center px-5">
    <form class="form-inline" action="{{ url_for('search') }}" method="GET">
        <input class="form-control mr-sm-2" type="search" placeholder="From City" aria-label="Search" name="q">
        <button class="btn btn-outline-dark my-2 my-sm-0" type="submit">Search</button>
    </form>
</div>
{% else %}
<div class="d-flex justify-content-center px-5">
    <form class="form-inline" action="{{ url_for('search') }}" method="GET">
        <input class="form-control mr-sm-2" type="search" placeholder="From City" aria-label="Search" name="q">
        <button class="btn btn-outline-dark my-2 my-sm-0" type="submit">Search</button>
    </form>
</div>
<br><br><br>
<div class="table-responsive-sm">
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">From</th>
            <th scope="col">To</th>
            <th scope="col">Date</th>
        </tr>
        </thead>
        <tbody>
        {% for tour in tours %}
        <a href="/tour-detail/{{ tour.id }}/">
            <tr onclick="window.location='/tour-detail/{{ tour._id }}'" style="cursor: pointer;">
                <td>{{ tour.name }}</td>
                <td>{{ tour.email }}</td>
                <td>{{ tour.from_city }}</td>
                <td>{{ tour.to_city }}</td>
                <td>{{ tour.tour_date }}</td>
            </tr>
        </a>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}
{% endblock body %}